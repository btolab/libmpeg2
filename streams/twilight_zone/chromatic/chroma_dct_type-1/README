Chad Fogg (cfogg@chromatic.com)
Friday,  April 28,  1995

This archive is a very simple illustration of the difference between a
decoder which properly uses frame organization for the chrominance
components when dct_type==1 (field) and chroma_format=="420", and a
decoder which treats the chrominance components as field organized.

This archive includes the following files:

        Bitstream file                   test.mpg
        Reconstructed frame*             correct.decoded
        Incorrect reconstructed frame*   wrong.decoded
        Bitstream info                   test.info
        Decoding trace **                test.trace
        picture structure                I0 (frame-structure)


This is a single 4:2:0 I-frame bitstream, dct_type==1, 720x480.

The incorrect reconstruction was achieved by replacing the line:

     if (dct_type && (chroma_format!=CHROMA420))

..with:

      if (dct_type)

.. in the addblock() function in getpic.c of the MPEG-2 Technical
Report Video Decoder by Stefan Eckart, et al, July 4, 1994 edition
(ftp://ftp.netcom.com/pub/cf/cfogg/mpeg2/mpeg2codec.v1.1a.tar.gz).

The test picture used was designed to show a stark
visual contrast between the correct and incorrect reconstructions.

        *frame format:

                4:2:0 frame ("display" order) 8 bit

                       width
                +---------------+
                |               |
                |      Y0       | height
                |width/2        |
                +-------+-------+
                |  Cb0  | height/2
                +-------+
                |  Cr0  | height/2
                +-------+-------+
                |               |
                |      Y1       |
                |               |
                +-------+-------+
                |       |
                  etc...

        ** Only the first row of MBs is traced.
           More complete traces are available on special order.


Warm regards,

--Chad
